# Base configuration
ENV=development
API_PREFIX=/api
LOG_LEVEL=INFO
ALLOWED_ORIGINS=http://localhost:5173
BACKEND_DEV_URL=http://0.0.0.0:8000

# Data paths
DATA_ROOT=../data
VECTOR_STORE_PATH=../data/vector_store
DATA_TABLES_DIR=../data

# LLM configuration (local mode with vLLM)
# LLM_MODE=local
# VLLM_BASE_URL=http://127.0.0.1:8001/v1
# Z_LOCAL_MODEL=GLM-4.5-Air

# LLM configuration (API mode)
LLM_MODE=api
OPENAI_BASE_URL=https://open.bigmodel.cn/api/paas/v4
OPENAI_API_KEY=sk-your-key
LLM_MODEL=GLM-4.5-Air
OPENAI_TIMEOUT_S=90

# MCP servers
# MCP_CONFIG_PATH=./config/mcp.yaml
# MCP_SERVERS_JSON=[{"name":"chart","url":"http://localhost:6001"}]

# MindsDB
CONTAINER_RUNTIME=docker
MINDSDB_BASE_URL=http://127.0.0.1:47334/api
# MINDSDB_TOKEN=

# Database & auth
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/pasteque

# Router (first-message gate)
# ROUTER_MODE can be: rule | local | api
#   - rule: deterministic, no LLM call
#   - local: uses VLLM_BASE_URL + (ROUTER_MODEL or Z_LOCAL_MODEL)
#   - api: uses OPENAI_BASE_URL + OPENAI_API_KEY + (ROUTER_MODEL or LLM_MODEL)
ROUTER_MODE=rule
# Optional model override for the router (defaults to Z_LOCAL_MODEL/LLM_MODEL)
# ROUTER_MODEL=
JWT_SECRET_KEY=change-me
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=240
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin

# NL→SQL helpers
NL2SQL_ENABLED=false
NL2SQL_DB_PREFIX=files
NL2SQL_INCLUDE_SAMPLES=false
NL2SQL_ROWS_PER_TABLE=3
NL2SQL_VALUE_TRUNCATE=60
NL2SQL_PLAN_ENABLED=false
NL2SQL_PLAN_MAX_STEPS=3

# NL→SQL multi‑agent (Explorer + Analyst)
NL2SQL_MULTIAGENT_ENABLED=false
NL2SQL_EXPLORE_ROUNDS=1
NL2SQL_SATISFACTION_MIN_ROWS=1
